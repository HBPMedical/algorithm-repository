---

input:
  doc: "Input is the list of covariables"
  type: record
  name: Covariables
  fields:
{{#names}}
    - {name: {{.}}, type: double}
{{/names}}

output:
  doc: "Output is the estimate of the variable"
  type: double

cells:
  coefficients:
    doc: "List of coefficients of the model parameters"
    type:
      type: record
      name: Coefficients
      fields:
{{#names}}
        - {name: {{.}}, type: double}
{{/names}}
    init:
{{#coefficients}}
      {{ coeff_name }}: {{ coefficient }}
{{/coefficients}}
{{#if_anova}}
  anova:
    doc: "Result from Anova"
    type: array
    items:
      type: array
      items:
        type: double
    init: {{ anova }}
{{/if_anova}}
  summary:
    doc: "R summary"
    type:
      type: record
      name: Summary
      fields:
        - name: residuals
          doc: "The _weighted_ residuals, the usual residuals rescaled by
                the square root of the weights specified in the call to ‘lm’"
          type: array
          items:
            type: array
            items:
              type: double
        - name: coefficients
          doc: "a p x 4 matrix with columns for the estimated
                coefficient, its standard error, t-statistic and
                corresponding (two-sided) p-value. Aliased coefficients are omitted"
          type:
            type: record
            name: CoefficientMatrix
            namespace: summary
            fields:
              - name: _intercept_
                type:
                  type: record
                  name: Coefficient
                  namespace: summary
                  fields:
                    - { name: estimate, type: double, doc: "Estimated coefficient" }
                    - { name: std_error, type: double, doc: "Standard error" }
                    - { name: t_value, type: double, doc: "t-statistic" }
                    - { name: p_value, type: double, doc: "Corresponding (two-sided) p-value" }
              - name: feature_nameHippocampus_R
                type: "summary.Coefficient"
        - name: aliased
          doc: "named logical vector showing if the original coefficients are aliased"
          type:
            type: record
            fields:
              - { name: _intercept_, type: boolean }
              - { name: feature_nameHippocampus_R, type: boolean }
        - name: sigma
          doc: "the square root of the estimated variance of the random error
                       sigma^2 = 1/(n-p) Sum(w[i] R[i]^2),
                where R[i] is the i-th residual, ‘residuals[i]’"
          type: double
        - name: degrees_freedom
          doc: "Degrees of freedom, a 3-vector (p, n-p, p*), the first being
                the number of non-aliased coefficients, the last being the
                total number of coefficients"
          type:
            type: array
            items:
              type: double
        - name: r_squared
          doc: "R squared"
          type: double
        - name: adj_r_squared
          doc: "Adjusted R squared"
        - name: cov_unscaled
          doc: "Matrix of covariance unscaled. Same columns as coefficients"
          type:
            type: array
            items:
              type: double
    init:
      coefficients:
{{#summary_coefficients}}
        {{ coeff_name }}: { estimate: {{ estimate }}, std_error: {{ std_error }}, t_value: {{ t_value }}, p_value: {{ p_value }} }
{{/summary_coefficients}}
      aliased:
{{#summary_aliased}}
        {{ coeff_name }}: {{ aliased }}
{{/summary_aliased}}
      sigma: {{ summary_sigma }}
      degrees_freedom: {{ summary_degrees_freedom }}
      r_squared: {{ summary_r_squared }}
      adj_r_squared: {{ summary_adj_r_squared }}
      cov_unscaled: {{ summary_cov_unscaled }}

action: null
